{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\Taewoo\\\\Desktop\\\\cat-jjal-maker-main\\\\cat-jjal-maker-main\\\\cat-jjal-maker-cra\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\toConsumableArray.js\";import _slicedToArray from\"C:\\\\Users\\\\Taewoo\\\\Desktop\\\\cat-jjal-maker-main\\\\cat-jjal-maker-main\\\\cat-jjal-maker-cra\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _asyncToGenerator from\"C:\\\\Users\\\\Taewoo\\\\Desktop\\\\cat-jjal-maker-main\\\\cat-jjal-maker-main\\\\cat-jjal-maker-cra\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Taewoo\\\\Desktop\\\\cat-jjal-maker-main\\\\cat-jjal-maker-main\\\\cat-jjal-maker-cra\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React from\"react\";import\"./App.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var jsonLocalStorage={setItem:function setItem(key,value){localStorage.setItem(key,JSON.stringify(value));},getItem:function getItem(key){return JSON.parse(localStorage.getItem(key));}};var fetchCat=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(text){var OPEN_API_DOMAIN,response,responseJson;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:OPEN_API_DOMAIN=\"https://cataas.com\";_context.next=3;return fetch(\"\".concat(OPEN_API_DOMAIN,\"/cat/says/\").concat(text,\"?json=true\"));case 3:response=_context.sent;_context.next=6;return response.json();case 6:responseJson=_context.sent;return _context.abrupt(\"return\",\"\".concat(OPEN_API_DOMAIN,\"/\").concat(responseJson.url));case 8:case\"end\":return _context.stop();}}},_callee);}));return function fetchCat(_x){return _ref.apply(this,arguments);};}();var Title=function Title(props){return/*#__PURE__*/_jsx(\"h1\",{children:props.children});};var Form=function Form(_ref2){var updateMainCat=_ref2.updateMainCat;var includesHangul=function includesHangul(text){return /[ã„±-ã…|ã…-ã…£|ê°€-í£]/i.test(text);};var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),value=_React$useState2[0],setValue=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),errorMessage=_React$useState4[0],setErrorMessage=_React$useState4[1];function handleInputChange(e){var userValue=e.target.value;setErrorMessage(\"\");if(includesHangul(userValue)){setErrorMessage(\"í•œê¸€ì€ ì…ë ¥í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\");}setValue(userValue);}function handleFormSubmit(e){e.preventDefault();setErrorMessage(\"\");if(value===\"\"){setErrorMessage(\"ë¹ˆ ê°’ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\");return;}updateMainCat(value);}return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleFormSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"\\uC601\\uC5B4 \\uB300\\uC0AC\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",value:value,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"\\uC0DD\\uC131\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:errorMessage})]});};function CatItem(props){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"img\",{src:props.img,style:{width:\"150px\"}})});}function Favorites(_ref3){var favorites=_ref3.favorites;if(favorites.length===0){return/*#__PURE__*/_jsx(\"div\",{children:\"\\uC0AC\\uC9C4 \\uC704 \\uD558\\uD2B8\\uB97C \\uB20C\\uB7EC \\uACE0\\uC591\\uC774\\uB97C \\uC800\\uC7A5\\uD574\\uBD10\\uC694.\"});}return/*#__PURE__*/_jsx(\"ul\",{className:\"favorites\",children:favorites.map(function(cat){return/*#__PURE__*/_jsx(CatItem,{img:cat},cat);})});}var MainCard=function MainCard(_ref4){var img=_ref4.img,onHeartClick=_ref4.onHeartClick,alreadyFavorite=_ref4.alreadyFavorite;var heartIcon=alreadyFavorite?\"ğŸ§¡\":\"ğŸ¤\";return/*#__PURE__*/_jsxs(\"div\",{className:\"main-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:img,alt:\"\\uACE0\\uC591\\uC774\",width:\"400\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onHeartClick,children:heartIcon})]});};var App=function App(){var CAT1=\"https://cataas.com/cat/60b73094e04e18001194a309/says/react\";var _React$useState5=React.useState(function(){return jsonLocalStorage.getItem(\"counter\");}),_React$useState6=_slicedToArray(_React$useState5,2),counter=_React$useState6[0],setCounter=_React$useState6[1];var _React$useState7=React.useState(CAT1),_React$useState8=_slicedToArray(_React$useState7,2),mainCat=_React$useState8[0],setMainCat=_React$useState8[1];var _React$useState9=React.useState(function(){return jsonLocalStorage.getItem(\"favorites\")||[];}),_React$useState10=_slicedToArray(_React$useState9,2),favorites=_React$useState10[0],setFavorites=_React$useState10[1];var alreadyFavorite=favorites.includes(mainCat);function setintialCat(){return _setintialCat.apply(this,arguments);}function _setintialCat(){_setintialCat=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var newCat;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetchCat(\"First Cat\");case 2:newCat=_context3.sent;setMainCat(newCat);case 4:case\"end\":return _context3.stop();}}},_callee3);}));return _setintialCat.apply(this,arguments);}React.useEffect(function(){setintialCat();},[]);var updateMainCat=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(value){var newCat;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetchCat(value);case 2:newCat=_context2.sent;setMainCat(newCat);setCounter(function(prev){var nextCounter=prev+1;jsonLocalStorage.setItem(\"counter\",nextCounter);return nextCounter;});case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function updateMainCat(_x2){return _ref5.apply(this,arguments);};}();function handleHeartClick(){var nextFavorites=[].concat(_toConsumableArray(favorites),[mainCat]);setFavorites(nextFavorites);jsonLocalStorage.setItem(\"favorites\",nextFavorites);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Title,{children:[counter==null|0?\"\":counter+\"ë²ˆì§¸ \",\"\\uACE0\\uC591\\uC774 \\uAC00\\uB77C\\uC0AC\\uB300\"]}),/*#__PURE__*/_jsx(Form,{updateMainCat:updateMainCat}),/*#__PURE__*/_jsx(MainCard,{img:mainCat,onHeartClick:handleHeartClick,alreadyFavorite:alreadyFavorite}),/*#__PURE__*/_jsx(Favorites,{favorites:favorites})]});};export default App;","map":{"version":3,"sources":["C:/Users/Taewoo/Desktop/cat-jjal-maker-main/cat-jjal-maker-main/cat-jjal-maker-cra/src/App.js"],"names":["React","jsonLocalStorage","setItem","key","value","localStorage","JSON","stringify","getItem","parse","fetchCat","text","OPEN_API_DOMAIN","fetch","response","json","responseJson","url","Title","props","children","Form","updateMainCat","includesHangul","test","useState","setValue","errorMessage","setErrorMessage","handleInputChange","e","userValue","target","handleFormSubmit","preventDefault","color","CatItem","img","width","Favorites","favorites","length","map","cat","MainCard","onHeartClick","alreadyFavorite","heartIcon","App","CAT1","counter","setCounter","mainCat","setMainCat","setFavorites","includes","setintialCat","newCat","useEffect","prev","nextCounter","handleHeartClick","nextFavorites"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./App.css\";\n\nconst jsonLocalStorage = {\n    setItem: (key, value) => {\n        localStorage.setItem(key, JSON.stringify(value))\n    },\n    getItem: (key) => {\n        return JSON.parse(localStorage.getItem(key))\n    },\n}\n\nconst fetchCat = async (text) => {\n    const OPEN_API_DOMAIN = \"https://cataas.com\"\n    const response = await fetch(`${OPEN_API_DOMAIN}/cat/says/${text}?json=true`)\n    const responseJson = await response.json()\n    return `${OPEN_API_DOMAIN}/${responseJson.url}`\n}\n\nconst Title = (props) => {\n    return <h1>{props.children}</h1>\n}\n\nconst Form = ({updateMainCat}) => {\n    const includesHangul = (text) => /[ã„±-ã…|ã…-ã…£|ê°€-í£]/i.test(text)\n    const [value, setValue] = React.useState(\"\")\n    const [errorMessage, setErrorMessage] = React.useState(\"\")\n\n    function handleInputChange(e) {\n        const userValue = e.target.value\n        setErrorMessage(\"\")\n        if (includesHangul(userValue)) {\n            setErrorMessage(\"í•œê¸€ì€ ì…ë ¥í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\")\n        }\n        setValue(userValue)\n    }\n\n    function handleFormSubmit(e) {\n        e.preventDefault()\n        setErrorMessage(\"\")\n\n        if (value === \"\") {\n            setErrorMessage(\"ë¹ˆ ê°’ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\")\n            return\n        }\n        updateMainCat(value)\n    }\n\n    return (\n        <form onSubmit={handleFormSubmit}>\n            <input\n                type=\"text\"\n                name=\"name\"\n                placeholder=\"ì˜ì–´ ëŒ€ì‚¬ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”\"\n                value={value}\n                onChange={handleInputChange}\n            />\n            <button type=\"submit\">ìƒì„±</button>\n            <p style={{color: \"red\"}}>{errorMessage}</p>\n        </form>\n    )\n}\n\nfunction CatItem(props) {\n    return (\n        <li>\n            <img src={props.img} style={{width: \"150px\"}}/>\n        </li>\n    )\n}\n\nfunction Favorites({favorites}) {\n\n    if (favorites.length === 0) {\n        return <div>ì‚¬ì§„ ìœ„ í•˜íŠ¸ë¥¼ ëˆŒëŸ¬ ê³ ì–‘ì´ë¥¼ ì €ì¥í•´ë´ìš”.</div>\n    }\n\n    return (\n        <ul className=\"favorites\">\n            {favorites.map((cat) => (\n                <CatItem img={cat} key={cat}/>\n            ))}\n        </ul>\n    )\n}\n\nconst MainCard = ({img, onHeartClick, alreadyFavorite}) => {\n\n    const heartIcon = alreadyFavorite ? \"ğŸ§¡\" : \"ğŸ¤\"\n\n    return (\n        <div className=\"main-card\">\n            <img src={img} alt=\"ê³ ì–‘ì´\" width=\"400\"/>\n            <button onClick={onHeartClick}>{heartIcon}</button>\n        </div>\n    )\n}\n\nconst App = () => {\n    const CAT1 =\n        \"https://cataas.com/cat/60b73094e04e18001194a309/says/react\"\n\n    const [counter, setCounter] = React.useState(() => {\n        return jsonLocalStorage.getItem(\"counter\")\n    })\n\n    const [mainCat, setMainCat] = React.useState(CAT1)\n\n    const [favorites, setFavorites] = React.useState(() => {\n        return jsonLocalStorage.getItem(\"favorites\") || []\n    })\n\n\n    const alreadyFavorite = favorites.includes(mainCat)\n\n    async function setintialCat() {\n        const newCat = await fetchCat(\"First Cat\");\n        setMainCat(newCat)\n    }\n\n    React.useEffect(() => {\n        setintialCat()\n    }, [])\n\n\n    const updateMainCat = async (value) => {\n\n        const newCat = await fetchCat(value);\n        setMainCat(newCat)\n\n        setCounter((prev) => {\n            const nextCounter = prev + 1\n            jsonLocalStorage.setItem(\"counter\", nextCounter)\n            return nextCounter\n        })\n\n    }\n\n    function handleHeartClick() {\n        const nextFavorites = [...favorites, mainCat]\n        setFavorites(nextFavorites)\n        jsonLocalStorage.setItem(\"favorites\", nextFavorites)\n    }\n\n    return (\n        <div>\n            <Title>{counter == null | 0 ? \"\" : counter + \"ë²ˆì§¸ \"}ê³ ì–‘ì´ ê°€ë¼ì‚¬ëŒ€</Title>\n            <Form updateMainCat={updateMainCat}/>\n            <MainCard img={mainCat} onHeartClick={handleHeartClick} alreadyFavorite={alreadyFavorite}/>\n            <Favorites favorites={favorites}/>\n        </div>\n    )\n}\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}